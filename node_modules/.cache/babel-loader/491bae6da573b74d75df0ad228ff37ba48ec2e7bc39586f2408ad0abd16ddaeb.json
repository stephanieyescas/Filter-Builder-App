{"ast":null,"code":"var _jsxFileName = \"/Users/ricky/Desktop/Filter-Builder-App/src/components/FilterBuilder.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport './FilterBuilder.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialModulesData = [{\n  id: '1',\n  name: 'rb',\n  content: 'rb',\n  type: 'attribute'\n}, {\n  id: '2',\n  name: 'drb',\n  content: 'drb',\n  type: 'attribute'\n}, {\n  id: '3',\n  name: 'galactic_latitude',\n  content: 'galactic_latitude',\n  type: 'attribute'\n}, {\n  id: '4',\n  name: 'jd',\n  content: 'jd',\n  type: 'attribute'\n}, {\n  id: '5',\n  name: 'jdstarthist',\n  content: 'jdstarthist',\n  type: 'attribute'\n}, {\n  id: '6',\n  name: 'AND',\n  content: ' && ',\n  type: 'operator'\n}, {\n  id: '7',\n  name: 'OR',\n  content: ' || ',\n  type: 'operator'\n}, {\n  id: '8',\n  name: '<',\n  content: '<',\n  type: 'comparator'\n}, {\n  id: '9',\n  name: '<=',\n  content: '<=',\n  type: 'comparator'\n}, {\n  id: '10',\n  name: '==',\n  content: '==',\n  type: 'comparator'\n}, {\n  id: '11',\n  name: '>',\n  content: '>',\n  type: 'comparator'\n}, {\n  id: '12',\n  name: '>=',\n  content: '>=',\n  type: 'comparator'\n}, {\n  id: '13',\n  name: '!=',\n  content: '!=',\n  type: 'comparator'\n}, {\n  id: '14',\n  name: 'Number',\n  content: 'Number',\n  type: 'input'\n}];\nconst sampleDocuments = [{\n  rb: 0.5,\n  drb: 0.2,\n  galactic_latitude: 5,\n  jd: 2460318.5,\n  jdstarthist: 2460314.5\n}, {\n  rb: 0.5,\n  drb: 0.99,\n  galactic_latitude: -5,\n  jd: 2460318.5,\n  jdstarthist: 2460314.5\n}, {\n  rb: 0.5,\n  drb: 0.99,\n  galactic_latitude: 30,\n  jd: 2460318.5,\n  jdstarthist: 2460300.5\n}, {\n  rb: 0.9,\n  drb: 0.8,\n  galactic_latitude: 30,\n  jd: 2460318.5,\n  jdstarthist: 2460314.5\n}];\nconst FilterBuilder = () => {\n  _s();\n  const [workspace, setWorkspace] = useState([]);\n  const [inputValue, setInputValue] = useState('');\n  const [editingIndex, setEditingIndex] = useState(null);\n  const [filterExpression, setFilterExpression] = useState('');\n  const [filterResults, setFilterResults] = useState([]);\n  const [initialModules, setInitialModules] = useState(initialModulesData);\n  const handleModuleClick = module => {\n    const newModule = {\n      ...module,\n      id: `${module.id}-${Date.now()}`\n    };\n    setWorkspace([...workspace, newModule]);\n    if (module.type === 'input') {\n      setEditingIndex(workspace.length);\n    }\n  };\n  const handleRemoveModule = index => {\n    const newWorkspace = Array.from(workspace);\n    newWorkspace.splice(index, 1);\n    setWorkspace(newWorkspace);\n  };\n  const handleClearWorkspace = () => {\n    setWorkspace([]);\n  };\n  const handleAddAttribute = () => {\n    const attributeName = prompt('Enter the name of the new attribute:');\n    const attributeContent = prompt('Enter the content of the new attribute:');\n    if (attributeName) {\n      const newAttribute = {\n        id: `attr-${Date.now()}`,\n        name: attributeName,\n        content: attributeContent,\n        type: 'custom-attribute'\n      };\n      setInitialModules([...initialModules, newAttribute]);\n    }\n  };\n  const handleInputChange = e => {\n    setInputValue(e.target.value);\n  };\n  const handleAddInputModule = index => {\n    const newWorkspace = Array.from(workspace);\n    newWorkspace[index].content = inputValue;\n    setWorkspace(newWorkspace);\n    setInputValue('');\n    setEditingIndex(null);\n  };\n  const handleModuleDoubleClick = index => {\n    handleRemoveModule(index);\n  };\n  const handleKeyPress = (e, index) => {\n    if (e.key === 'Enter') {\n      handleAddInputModule(index);\n    }\n  };\n  const handleCreateFilter = () => {\n    const filterGroup = {\n      id: `filter-group-${Date.now()}`,\n      type: 'filter-group',\n      content: [{\n        id: `placeholder-1-${Date.now()}`,\n        content: 'Attribute/Number',\n        type: 'placeholder'\n      }, {\n        id: `placeholder-2-${Date.now()}`,\n        content: 'Comparator',\n        type: 'placeholder'\n      }, {\n        id: `placeholder-3-${Date.now()}`,\n        content: 'Attribute/Number',\n        type: 'placeholder'\n      }]\n    };\n    setWorkspace([...workspace, filterGroup]);\n  };\n  const handleDragStart = (e, module, index) => {\n    e.dataTransfer.setData('module', JSON.stringify(module));\n    e.dataTransfer.setData('index', index);\n  };\n  const handleDragOver = e => {\n    e.preventDefault();\n  };\n  const handleDrop = (e, index) => {\n    e.preventDefault();\n    const module = JSON.parse(e.dataTransfer.getData('module'));\n    const draggedIndex = e.dataTransfer.getData('index');\n    const newWorkspace = Array.from(workspace);\n    newWorkspace.splice(draggedIndex, 1);\n    newWorkspace.splice(index, 0, module);\n    setWorkspace(newWorkspace);\n  };\n  const handleDropOnFilter = (e, filterIndex, groupIndex) => {\n    e.preventDefault();\n    const module = JSON.parse(e.dataTransfer.getData('module'));\n    const draggedIndex = e.dataTransfer.getData('index');\n    const newWorkspace = Array.from(workspace);\n    newWorkspace[groupIndex].content[filterIndex] = module;\n    if (draggedIndex !== undefined && draggedIndex < workspace.length) {\n      newWorkspace.splice(draggedIndex, 1);\n    }\n    setWorkspace(newWorkspace);\n  };\n  const convertWorkspaceToFilterFunction = () => {\n    const buildExpressions = modules => {\n      let expressions = [];\n      modules.forEach(module => {\n        if (module.type === 'filter-group') {\n          const groupExpression = buildExpressions(module.content);\n          expressions.push(`(${groupExpression.join(' ')})`);\n        } else if (module.type === 'operator') {\n          expressions.push(module.content);\n        } else {\n          let expression = '';\n          if (module.type === 'attribute') {\n            expression += `doc.${module.content} `;\n          } else if (module.type === 'comparator') {\n            expression += `${module.content} `;\n          } else if (module.type === 'input') {\n            expression += `${module.content} `;\n          } else if (module.type === 'custom-attribute') {\n            const parsedContent = module.content.split(' ').map(part => {\n              return initialModulesData.some(mod => mod.name === part) ? `doc.${part}` : part;\n            }).join(' ');\n            expression += `(${parsedContent}) `;\n          }\n          expressions.push(expression.trim());\n        }\n      });\n      console.log(expressions);\n      return expressions;\n    };\n    const filterFunction = doc => {\n      const expressions = buildExpressions(workspace);\n      const combinedExpression = expressions.join(' ');\n      try {\n        return eval(combinedExpression);\n      } catch (error) {\n        console.error('Error evaluating filter expression:', error);\n        alert('Invalid filter expression. Please check your filter and try again.');\n        setFilterResults([{\n          error: 'Invalid filter expression. Please check your filter and try again.'\n        }]);\n        return false;\n      }\n    };\n    return filterFunction;\n  };\n  const handleRunFilter = () => {\n    const filterFunction = convertWorkspaceToFilterFunction();\n    const results = sampleDocuments.filter(filterFunction);\n    if (results.length === 0) {\n      const none = [{\n        message: 'No results found.'\n      }];\n      setFilterResults(none);\n    } else {\n      setFilterResults(results);\n    }\n  };\n  const handleClearResults = () => {\n    setFilterResults([]);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"filter-builder\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"module-palette\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"attributes-operators\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Attributes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this), initialModules.filter(module => module.type === 'attribute').map(module => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"module\",\n          draggable: true,\n          onDragStart: e => handleDragStart(e, module),\n          onClick: () => handleModuleClick(module),\n          children: module.content\n        }, module.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 13\n        }, this)), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Operators\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this), initialModules.filter(module => module.type === 'operator').map(module => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"module\",\n          draggable: true,\n          onDragStart: e => handleDragStart(e, module),\n          onClick: () => handleModuleClick(module),\n          children: module.name\n        }, module.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comparators-input\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Comparators\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this), initialModules.filter(module => module.type === 'comparator').map(module => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"module\",\n          draggable: true,\n          onDragStart: e => handleDragStart(e, module),\n          onClick: () => handleModuleClick(module),\n          children: module.content\n        }, module.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 13\n        }, this)), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Inputs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this), initialModules.filter(module => module.type === 'input').map(module => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"module\",\n          draggable: true,\n          onDragStart: e => handleDragStart(e, module),\n          onClick: () => handleModuleClick(module),\n          children: module.name\n        }, module.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 13\n        }, this)), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Custom Attributes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this), initialModules.filter(module => module.type === 'custom-attribute').map(module => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"module\",\n          draggable: true,\n          onDragStart: e => handleDragStart(e, module),\n          onClick: () => handleModuleClick(module),\n          children: module.name\n        }, module.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"graph-workspace-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"graph-workspace\",\n        children: workspace.map((module, index) => module.type === 'filter-group' ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-group\",\n          draggable: true,\n          children: [module.content.map((filter, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `module filter ${idx === 1 ? 'middle' : ''}`,\n            onDragStart: e => handleDragStart(e, module, index),\n            onDragOver: handleDragOver,\n            onDrop: e => handleDropOnFilter(e, idx, index),\n            onDoubleClick: () => handleModuleDoubleClick(index),\n            children: filter.content\n          }, filter.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 17\n          }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"line left-line\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"line right-line\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 15\n          }, this)]\n        }, module.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"module\",\n          draggable: true,\n          onDragStart: e => handleDragStart(e, module, index),\n          onDragOver: handleDragOver,\n          onDrop: e => handleDrop(e, index),\n          onDoubleClick: () => handleModuleDoubleClick(index),\n          children: editingIndex === index ? /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: inputValue,\n            onChange: handleInputChange,\n            onKeyDown: e => handleKeyPress(e, index),\n            placeholder: \"Enter value\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 17\n          }, this) : module.type === 'custom-attribute' ? module.name : module.content\n        }, module.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"button-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"create-filter-button\",\n          onClick: handleCreateFilter,\n          children: \"Create Filter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"add-attribute-button\",\n          onClick: handleAddAttribute,\n          children: \"Add Attribute\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"clear-button\",\n          onClick: handleClearWorkspace,\n          children: \"Clear Workspace\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"run-button\",\n          onClick: handleRunFilter,\n          children: \"Run\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"clear-results-button\",\n          onClick: handleClearResults,\n          children: \"Clear Results\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 9\n      }, this), filterExpression, filterResults.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filter-results\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Filter Results:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n          children: JSON.stringify(filterResults, null, 2)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 195,\n    columnNumber: 5\n  }, this);\n};\n_s(FilterBuilder, \"zF3KhoZfTwSW70Idi4E1SVKLpB4=\");\n_c = FilterBuilder;\nexport default FilterBuilder;\nvar _c;\n$RefreshReg$(_c, \"FilterBuilder\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","initialModulesData","id","name","content","type","sampleDocuments","rb","drb","galactic_latitude","jd","jdstarthist","FilterBuilder","_s","workspace","setWorkspace","inputValue","setInputValue","editingIndex","setEditingIndex","filterExpression","setFilterExpression","filterResults","setFilterResults","initialModules","setInitialModules","handleModuleClick","module","newModule","Date","now","length","handleRemoveModule","index","newWorkspace","Array","from","splice","handleClearWorkspace","handleAddAttribute","attributeName","prompt","attributeContent","newAttribute","handleInputChange","e","target","value","handleAddInputModule","handleModuleDoubleClick","handleKeyPress","key","handleCreateFilter","filterGroup","handleDragStart","dataTransfer","setData","JSON","stringify","handleDragOver","preventDefault","handleDrop","parse","getData","draggedIndex","handleDropOnFilter","filterIndex","groupIndex","undefined","convertWorkspaceToFilterFunction","buildExpressions","modules","expressions","forEach","groupExpression","push","join","expression","parsedContent","split","map","part","some","mod","trim","console","log","filterFunction","doc","combinedExpression","eval","error","alert","handleRunFilter","results","filter","none","message","handleClearResults","className","children","fileName","_jsxFileName","lineNumber","columnNumber","draggable","onDragStart","onClick","idx","onDragOver","onDrop","onDoubleClick","onChange","onKeyDown","placeholder","_c","$RefreshReg$"],"sources":["/Users/ricky/Desktop/Filter-Builder-App/src/components/FilterBuilder.js"],"sourcesContent":["import React, { useState } from 'react';\nimport './FilterBuilder.css';\n\nconst initialModulesData = [\n  { id: '1', name: 'rb', content: 'rb', type: 'attribute' },\n  { id: '2', name: 'drb', content: 'drb', type: 'attribute' },\n  { id: '3', name: 'galactic_latitude', content: 'galactic_latitude', type: 'attribute' },\n  { id: '4', name: 'jd', content: 'jd', type: 'attribute' },\n  { id: '5', name: 'jdstarthist', content: 'jdstarthist', type: 'attribute' },\n  { id: '6', name: 'AND', content: ' && ', type: 'operator' },\n  { id: '7', name: 'OR', content: ' || ', type: 'operator' },\n  { id: '8', name: '<', content: '<', type: 'comparator' },\n  { id: '9', name: '<=', content: '<=', type: 'comparator' },\n  { id: '10', name: '==', content: '==', type: 'comparator' },\n  { id: '11', name: '>', content: '>', type: 'comparator' },\n  { id: '12', name: '>=', content: '>=', type: 'comparator' },\n  { id: '13', name: '!=', content: '!=', type: 'comparator' },\n  { id: '14', name: 'Number', content: 'Number', type: 'input' },\n];\n\nconst sampleDocuments = [\n  { rb: 0.5, drb: 0.2, galactic_latitude: 5, jd: 2460318.5, jdstarthist: 2460314.5 },\n  { rb: 0.5, drb: 0.99, galactic_latitude: -5, jd: 2460318.5, jdstarthist: 2460314.5 },\n  { rb: 0.5, drb: 0.99, galactic_latitude: 30, jd: 2460318.5, jdstarthist: 2460300.5 },\n  { rb: 0.9, drb: 0.8, galactic_latitude: 30, jd: 2460318.5, jdstarthist: 2460314.5 },\n];\n\nconst FilterBuilder = () => {\n  const [workspace, setWorkspace] = useState([]);\n  const [inputValue, setInputValue] = useState('');\n  const [editingIndex, setEditingIndex] = useState(null);\n  const [filterExpression, setFilterExpression] = useState('');\n  const [filterResults, setFilterResults] = useState([]);\n  const [initialModules, setInitialModules] = useState(initialModulesData);\n\n  const handleModuleClick = (module) => {\n    const newModule = { ...module, id: `${module.id}-${Date.now()}` };\n    setWorkspace([...workspace, newModule]);\n    if (module.type === 'input') {\n      setEditingIndex(workspace.length);\n    }\n  };\n\n  const handleRemoveModule = (index) => {\n    const newWorkspace = Array.from(workspace);\n    newWorkspace.splice(index, 1);\n    setWorkspace(newWorkspace);\n  };\n\n  const handleClearWorkspace = () => {\n    setWorkspace([]);\n  };\n\n  const handleAddAttribute = () => {\n    const attributeName = prompt('Enter the name of the new attribute:');\n    const attributeContent = prompt('Enter the content of the new attribute:');\n    if (attributeName) {\n      const newAttribute = {\n        id: `attr-${Date.now()}`,\n        name: attributeName,\n        content: attributeContent,\n        type: 'custom-attribute'\n      };\n      setInitialModules([...initialModules, newAttribute]);\n    }\n  };\n\n  const handleInputChange = (e) => {\n    setInputValue(e.target.value);\n  };\n\n  const handleAddInputModule = (index) => {\n    const newWorkspace = Array.from(workspace);\n    newWorkspace[index].content = inputValue;\n    setWorkspace(newWorkspace);\n    setInputValue('');\n    setEditingIndex(null);\n  };\n\n  const handleModuleDoubleClick = (index) => {\n    handleRemoveModule(index);\n  };\n\n  const handleKeyPress = (e, index) => {\n    if (e.key === 'Enter') {\n      handleAddInputModule(index);\n    }\n  };\n\n  const handleCreateFilter = () => {\n    const filterGroup = {\n      id: `filter-group-${Date.now()}`,\n      type: 'filter-group',\n      content: [\n        { id: `placeholder-1-${Date.now()}`, content: 'Attribute/Number', type: 'placeholder' },\n        { id: `placeholder-2-${Date.now()}`, content: 'Comparator', type: 'placeholder' },\n        { id: `placeholder-3-${Date.now()}`, content: 'Attribute/Number', type: 'placeholder' },\n      ],\n    };\n    setWorkspace([...workspace, filterGroup]);\n  };\n\n  const handleDragStart = (e, module, index) => {\n    e.dataTransfer.setData('module', JSON.stringify(module));\n    e.dataTransfer.setData('index', index);\n  };\n\n  const handleDragOver = (e) => {\n    e.preventDefault();\n  };\n\n  const handleDrop = (e, index) => {\n    e.preventDefault();\n    const module = JSON.parse(e.dataTransfer.getData('module'));\n    const draggedIndex = e.dataTransfer.getData('index');\n    const newWorkspace = Array.from(workspace);\n    newWorkspace.splice(draggedIndex, 1);\n    newWorkspace.splice(index, 0, module);\n    setWorkspace(newWorkspace);\n  };\n\n  const handleDropOnFilter = (e, filterIndex, groupIndex) => {\n    e.preventDefault();\n    const module = JSON.parse(e.dataTransfer.getData('module'));\n    const draggedIndex = e.dataTransfer.getData('index');\n    const newWorkspace = Array.from(workspace);\n    newWorkspace[groupIndex].content[filterIndex] = module;\n    if (draggedIndex !== undefined && draggedIndex < workspace.length) {\n      newWorkspace.splice(draggedIndex, 1);\n    }\n    setWorkspace(newWorkspace);\n  };\n\n  const convertWorkspaceToFilterFunction = () => {\n    const buildExpressions = (modules) => {\n      let expressions = [];\n      modules.forEach((module) => {\n        if (module.type === 'filter-group') {\n          const groupExpression = buildExpressions(module.content);\n          expressions.push(`(${groupExpression.join(' ')})`);\n        } else if (module.type === 'operator') {\n            expressions.push(module.content);\n        } else {\n          let expression = '';\n          if (module.type === 'attribute') {\n            expression += `doc.${module.content} `;\n          } else if (module.type === 'comparator') {\n            expression += `${module.content} `;\n          } else if (module.type === 'input') {\n            expression += `${module.content} `;\n            } else if (module.type === 'custom-attribute') {\n            const parsedContent = module.content.split(' ').map(part => {\n              return initialModulesData.some(mod => mod.name === part) ? `doc.${part}` : part;\n            }).join(' ');\n            expression += `(${parsedContent}) `;\n            }\n          expressions.push(expression.trim());\n        }\n      });\n      console.log(expressions);\n      return expressions;\n    };\n\n    const filterFunction = (doc) => {\n      const expressions = buildExpressions(workspace);\n      const combinedExpression = expressions.join(' ');\n      try {\n        return eval(combinedExpression);\n      } catch (error) {\n        console.error('Error evaluating filter expression:', error);\n        alert('Invalid filter expression. Please check your filter and try again.');\n        setFilterResults([{ error: 'Invalid filter expression. Please check your filter and try again.' }]);\n        return false;\n      }\n    };\n    return filterFunction;\n  };\n\n  const handleRunFilter = () => {\n    const filterFunction = convertWorkspaceToFilterFunction();\n    const results = sampleDocuments.filter(filterFunction);\n    if (results.length === 0) {\n      const none = [{ message: 'No results found.' }];\n      setFilterResults(none);\n    } else {\n      setFilterResults(results);\n    }\n  };\n\n  const handleClearResults = () => {\n    setFilterResults([]);\n  };\n\n  return (\n    <div className=\"filter-builder\">\n      <div className=\"module-palette\">\n        <div className=\"attributes-operators\">\n          <h3>Attributes</h3>\n          {initialModules.filter(module => module.type === 'attribute').map((module) => (\n            <div\n              key={module.id}\n              className=\"module\"\n              draggable\n              onDragStart={(e) => handleDragStart(e, module)}\n              onClick={() => handleModuleClick(module)}\n            >\n              {module.content}\n            </div>\n          ))}\n          <h3>Operators</h3>\n          {initialModules.filter(module => module.type === 'operator').map((module) => (\n            <div\n              key={module.id}\n              className=\"module\"\n              draggable\n              onDragStart={(e) => handleDragStart(e, module)}\n              onClick={() => handleModuleClick(module)}\n            >\n              {module.name}\n            </div>\n          ))}\n        </div>\n        <div className=\"comparators-input\">\n          <h3>Comparators</h3>\n          {initialModules.filter(module => module.type === 'comparator').map((module) => (\n            <div\n              key={module.id}\n              className=\"module\"\n              draggable\n              onDragStart={(e) => handleDragStart(e, module)}\n              onClick={() => handleModuleClick(module)}\n            >\n              {module.content}\n            </div>\n          ))}\n          <h3>Inputs</h3>\n          {initialModules.filter(module => module.type === 'input').map((module) => (\n            <div\n              key={module.id}\n              className=\"module\"\n              draggable\n              onDragStart={(e) => handleDragStart(e, module)}\n              onClick={() => handleModuleClick(module)}\n            >\n              {module.name}\n            </div>\n          ))}\n          <h3>Custom Attributes</h3>\n          {initialModules.filter(module => module.type === 'custom-attribute').map((module) => (\n            <div\n              key={module.id}\n              className=\"module\"\n              draggable\n              onDragStart={(e) => handleDragStart(e, module)}\n              onClick={() => handleModuleClick(module)}\n            >\n              {module.name}\n            </div>\n          ))}\n        </div>\n      </div>\n      <div className=\"graph-workspace-container\">\n        <div className=\"graph-workspace\">\n        {workspace.map((module, index) => (\n          module.type === 'filter-group' ? (\n            <div key={module.id} className=\"filter-group\"\n            draggable>\n              {module.content.map((filter, idx) => (\n                <div\n                  key={filter.id}\n                  className={`module filter ${idx === 1 ? 'middle' : ''}`}\n                  onDragStart={(e) => handleDragStart(e, module, index)}\n                  onDragOver={handleDragOver}\n                  onDrop={(e) => handleDropOnFilter(e, idx, index)}\n                  onDoubleClick={() => handleModuleDoubleClick(index)}\n                >\n                  {filter.content}\n                </div>\n              ))}\n              <div className=\"line left-line\"></div>\n              <div className=\"line right-line\"></div>\n            </div>\n          ) : (\n            <div\n              key={module.id}\n              className=\"module\"\n              draggable\n              onDragStart={(e) => handleDragStart(e, module, index)}\n              onDragOver={handleDragOver}\n              onDrop={(e) => handleDrop(e, index)}\n              onDoubleClick={() => handleModuleDoubleClick(index)}\n            >\n              {editingIndex === index ? (\n                <input\n                  type=\"text\"\n                  value={inputValue}\n                  onChange={handleInputChange}\n                  onKeyDown={(e) => handleKeyPress(e, index)}\n                  placeholder=\"Enter value\"\n                />\n              ) : (\n                module.type === 'custom-attribute' ? module.name : module.content\n              )}\n            </div>\n          )\n        ))}\n        </div>\n        <div className=\"button-container\">\n          <button className=\"create-filter-button\" onClick={handleCreateFilter}>Create Filter</button>\n          <button className=\"add-attribute-button\" onClick={handleAddAttribute}>Add Attribute</button>\n          <button className=\"clear-button\" onClick={handleClearWorkspace}>Clear Workspace</button>\n          <button className=\"run-button\" onClick={handleRunFilter}>Run</button>\n          <button className=\"clear-results-button\" onClick={handleClearResults}>Clear Results</button>\n        </div>\n        {filterExpression}\n        {filterResults.length > 0 && (\n          <div className=\"filter-results\">\n            <h3>Filter Results:</h3>\n            <pre>{JSON.stringify(filterResults, null, 2)}</pre>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default FilterBuilder;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}